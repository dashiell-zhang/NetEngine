@page "/"
@using Application.Model.Site.Site
@attribute [ReuseTabsPage(Title = "仪表盘", PinUrl = "/", Closable = false, Pin = true)]

<Card Title="服务器信息">
    @foreach (var info in serverInfos)
    {
        <CardGrid Style="width:25%;text-align:left" Hoverable="true">
            @(info.Name + "：" + info.Value)
        </CardGrid>
    }
</Card>

@code {

    List<ServerInfoDto> serverInfos = new();

    async override protected void OnInitialized()
    {
        var retData = await Http.GetFromJsonAsync<List<ServerInfoDto>>("Site/GetServerInfo", JsonHelper.DeserializeOpts);

        if (retData != null)
        {
            serverInfos = retData;
        }

        StateHasChanged();
    }

}